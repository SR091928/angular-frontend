<div class="app-content">
  <div class="auth-card">
    <h2 class="auth-title">Create Your Account</h2>
    <p class="auth-subtitle">Join us and get started securely</p>

    <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">

      <!-- First & Last Name -->
      <div class="form-group">
        <label>First Name*</label>
        <input type="text" formControlName="firstName" placeholder="Enter first name" />
        <small class="error" *ngIf="firstName?.touched && firstName?.invalid">
          First name is required.
        </small>
      </div>

      <div class="form-group">
        <label>Last Name*</label>
        <input type="text" formControlName="lastName" placeholder="Enter last name" />
        <small class="error" *ngIf="lastName?.touched && lastName?.invalid">
          Last name is required.
        </small>
      </div>

      <!-- Username -->
      <div class="form-group">
        <label>Username*</label>
        <input type="text" formControlName="username" placeholder="Choose a username" />
        <small class="error" *ngIf="username?.touched && username?.invalid">
          <ng-container *ngIf="username?.errors?.['required']">
            Username is required.
          </ng-container>
          <ng-container *ngIf="username?.errors?.['minlength']">
            Must be at least 3 characters long.
          </ng-container>
        </small>
      </div>

      <!-- Password -->
      <div class="form-group password-field">
        <label>Password*</label>
        <div class="password-wrapper">
          <input [type]="showPassword ? 'text' : 'password'" formControlName="password" placeholder="Enter password" />
          <button type="button" class="eye-btn" (click)="togglePassword()" aria-label="Toggle password visibility">
            <img *ngIf="!showPassword" src="assets/icons/eye-show.svg" alt="Show password" class="eye-icon" />
            <img *ngIf="showPassword" src="assets/icons/eye-hide.svg" alt="Hide password" class="eye-icon" />
          </button>
        </div>
        <small class="error" *ngIf="password?.touched && password?.invalid">
          <ng-container *ngIf="password?.errors?.['required']">
            Password is required.
          </ng-container>
          <ng-container *ngIf="password?.errors?.['pattern']">
            Must be at least 8 characters and only A-Z, a-z, 0-9, _&#64;#$%^&*().
          </ng-container>
        </small>
      </div>

      <!-- Confirm Password -->
      <div class="form-group password-field">
        <label>Confirm Password*</label>
        <div class="password-wrapper">
          <input [type]="showConfirmPassword ? 'text' : 'password'" formControlName="confirmPassword"
            placeholder="Re-enter password" />
          <button type="button" class="eye-btn" (click)="toggleConfirmPassword()"
            aria-label="Toggle password visibility">
            <img *ngIf="!showConfirmPassword" src="assets/icons/eye-show.svg" alt="Show password" class="eye-icon" />
            <img *ngIf="showConfirmPassword" src="assets/icons/eye-hide.svg" alt="Hide password" class="eye-icon" />
          </button>
        </div>
        <small class="error" *ngIf="confirmPassword?.touched && confirmPassword?.errors?.['mismatch']">
          Passwords do not match.
        </small>
      </div>

      <!-- Date of Birth -->
      <div class="form-group">
        <label>Date of Birth*</label>
        <input type="date" formControlName="dob" />
        <small class="error" *ngIf="dob?.touched && dob?.invalid">
          Date of Birth is required.
        </small>
      </div>

      <!-- Mobile Number -->
      <div class="form-row">
        <div class="form-group code">
          <label>Code*</label>
          <input type="text" formControlName="countryCode" placeholder="+91" />
          <small class="error" *ngIf="countryCode?.touched && countryCode?.invalid">
            Code is required.
          </small>
        </div>
        <div class="form-group phone">
          <label>Mobile Number*</label>
          <input type="tel" formControlName="mobile" placeholder="Enter mobile number" />
          <small class="error" *ngIf="mobile?.touched && mobile?.invalid">
            <ng-container *ngIf="mobile?.errors?.['required']">
              Mobile number is required.
            </ng-container>
            <ng-container *ngIf="mobile?.errors?.['pattern']">
              Must be a 10-digit number.
            </ng-container>
          </small>
        </div>
      </div>

      <!-- Optional Fields -->
      <div class="form-group">
        <label>Email (optional)</label>
        <input type="email" formControlName="email" placeholder="Enter email" />
        <small class="error" *ngIf="email?.touched && email?.invalid">
          Please enter a valid email address.
        </small>
      </div>

      <div class="form-group">
        <label>Address (optional)</label>
        <textarea formControlName="address" placeholder="Enter address"></textarea>
      </div>

    </form>

    <div class="fixed-footer">
      <div class="form-actions">
        <button type="submit" class="btn primary" [disabled]="signupForm.invalid">
          Sign Up
        </button>
        <button type="button" class="btn outline" (click)="goBack()">Back</button>
      </div>
    </div>

    <div class="divider"><span>Or</span></div>
    <div id="googleSignInButton" class="google-btn"></div>
  </div>
</div>